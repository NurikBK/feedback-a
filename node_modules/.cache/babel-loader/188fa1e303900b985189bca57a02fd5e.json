{"ast":null,"code":"import _objectSpread from\"/home/nurik/react-projects/feedback-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/home/nurik/react-projects/feedback-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/nurik/react-projects/feedback-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState}from'react';import{v4 as uuidv4}from'uuid';import FeedbackData from'../data/feedbackData';import{jsx as _jsx}from\"react/jsx-runtime\";var FeedbackContext=/*#__PURE__*/createContext();export var FeedbackProvider=function FeedbackProvider(_ref){var children=_ref.children;var _useState=useState(FeedbackData),_useState2=_slicedToArray(_useState,2),feedback=_useState2[0],setFeedback=_useState2[1];var _useState3=useState({item:{},edit:false}),_useState4=_slicedToArray(_useState3,2),feedbackEdit=_useState4[0],setFeedbackEdit=_useState4[1];function handleDelete(id){if(window.confirm('Are you sure you want to delete')){setFeedback(feedback.filter(function(item){return item.id!=id;}));}}function handleAdd(newFeedback){newFeedback.id=uuidv4();setFeedback([newFeedback].concat(_toConsumableArray(feedback)));}function updateFeedback(id,updItem){setFeedback(feedback.map(function(item){return item.id===id?_objectSpread(_objectSpread({},item),updItem):item;}));}function editFeedback(item){setFeedbackEdit({item:item,edit:true});}return/*#__PURE__*/_jsx(FeedbackContext.Provider,{value:{feedback:feedback,feedbackEdit:feedbackEdit,handleDelete:handleDelete,handleAdd:handleAdd,editFeedback:editFeedback,updateFeedback:updateFeedback},children:children});};export default FeedbackContext;","map":{"version":3,"names":["createContext","useState","v4","uuidv4","FeedbackData","FeedbackContext","FeedbackProvider","children","feedback","setFeedback","item","edit","feedbackEdit","setFeedbackEdit","handleDelete","id","window","confirm","filter","handleAdd","newFeedback","updateFeedback","updItem","map","editFeedback"],"sources":["/home/nurik/react-projects/feedback-app/src/context/FeedbackContext.js"],"sourcesContent":["import { createContext, useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport FeedbackData from '../data/feedbackData';\n\nconst FeedbackContext = createContext();\n\nexport const FeedbackProvider = ({ children }) => {\n  const [feedback, setFeedback] = useState(FeedbackData);\n  const [feedbackEdit, setFeedbackEdit] = useState({\n    item: {},\n    edit: false,\n  });\n\n  function handleDelete(id) {\n    if (window.confirm('Are you sure you want to delete')) {\n      setFeedback(feedback.filter((item) => item.id != id));\n    }\n  }\n\n  function handleAdd(newFeedback) {\n    newFeedback.id = uuidv4();\n    setFeedback([newFeedback, ...feedback]);\n  }\n\n  function updateFeedback(id, updItem) {\n    setFeedback(feedback.map((item) =>  item.id === id ? {...item, ...updItem} : item))\n  }\n\n  function editFeedback(item) {\n    setFeedbackEdit({\n      item,\n      edit: true,\n    });\n  }\n\n  return (\n    <FeedbackContext.Provider\n      value={{\n        feedback,\n        feedbackEdit,\n        handleDelete,\n        handleAdd,\n        editFeedback,\n        updateFeedback,\n      }}\n    >\n      {children}\n    </FeedbackContext.Provider>\n  );\n};\n\nexport default FeedbackContext;\n"],"mappings":"8XAAA,OAASA,aAAT,CAAwBC,QAAxB,KAAwC,OAAxC,CACA,OAASC,EAAE,GAAIC,OAAf,KAA6B,MAA7B,CACA,MAAOC,aAAP,KAAyB,sBAAzB,C,2CAEA,GAAMC,gBAAe,cAAGL,aAAa,EAArC,CAEA,MAAO,IAAMM,iBAAgB,CAAG,QAAnBA,iBAAmB,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAChD,cAAgCN,QAAQ,CAACG,YAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAwCR,QAAQ,CAAC,CAC/CS,IAAI,CAAE,EADyC,CAE/CC,IAAI,CAAE,KAFyC,CAAD,CAAhD,yCAAOC,YAAP,eAAqBC,eAArB,eAKA,QAASC,aAAT,CAAsBC,EAAtB,CAA0B,CACxB,GAAIC,MAAM,CAACC,OAAP,CAAe,iCAAf,CAAJ,CAAuD,CACrDR,WAAW,CAACD,QAAQ,CAACU,MAAT,CAAgB,SAACR,IAAD,QAAUA,KAAI,CAACK,EAAL,EAAWA,EAArB,EAAhB,CAAD,CAAX,CACD,CACF,CAED,QAASI,UAAT,CAAmBC,WAAnB,CAAgC,CAC9BA,WAAW,CAACL,EAAZ,CAAiBZ,MAAM,EAAvB,CACAM,WAAW,EAAEW,WAAF,4BAAkBZ,QAAlB,GAAX,CACD,CAED,QAASa,eAAT,CAAwBN,EAAxB,CAA4BO,OAA5B,CAAqC,CACnCb,WAAW,CAACD,QAAQ,CAACe,GAAT,CAAa,SAACb,IAAD,QAAWA,KAAI,CAACK,EAAL,GAAYA,EAAZ,gCAAqBL,IAArB,EAA8BY,OAA9B,EAAyCZ,IAApD,EAAb,CAAD,CAAX,CACD,CAED,QAASc,aAAT,CAAsBd,IAAtB,CAA4B,CAC1BG,eAAe,CAAC,CACdH,IAAI,CAAJA,IADc,CAEdC,IAAI,CAAE,IAFQ,CAAD,CAAf,CAID,CAED,mBACE,KAAC,eAAD,CAAiB,QAAjB,EACE,KAAK,CAAE,CACLH,QAAQ,CAARA,QADK,CAELI,YAAY,CAAZA,YAFK,CAGLE,YAAY,CAAZA,YAHK,CAILK,SAAS,CAATA,SAJK,CAKLK,YAAY,CAAZA,YALK,CAMLH,cAAc,CAAdA,cANK,CADT,UAUGd,QAVH,EADF,CAcD,CA3CM,CA6CP,cAAeF,gBAAf"},"metadata":{},"sourceType":"module"}